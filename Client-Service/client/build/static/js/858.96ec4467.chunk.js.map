{"version":3,"file":"static/js/858.96ec4467.chunk.js","mappings":"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","sources":["components/Customer/CustomerRegistration/CustomerRegisterForm.tsx","services/customerService.ts"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Avatar, Box, Button, Card, Container, Step, StepLabel, Stepper, TextField, Typography, Modal, Fade, Backdrop } from \"@mui/material\";\r\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\r\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\r\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { customerService } from \"../../../services/customerService\";\r\nimport { CustomerRegisterForm } from \"../../../Types\";\r\nimport \"./CustomerRegisterForm.css\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { RadioGroup, FormControlLabel, Radio, FormControl, FormLabel } from \"@mui/material\";\r\nimport dayjs, { Dayjs } from \"dayjs\";\r\n\r\nconst steps = [\"User Details\", \"Personal Info\", \"Documents\"];\r\n\r\nconst CustomerRegister: React.FC = () => {\r\n  const [registerForm, setRegisterForm] = useState<CustomerRegisterForm>({\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phoneNumber: \"\",\r\n    roleNames: [\"CUSTOMER\"],\r\n    permissionNames: [\"PERMISSION_WRITE\"],\r\n    createCustomerDto: {\r\n      id: 0,\r\n      userId: 0,\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      phoneNumber: \"\",\r\n      email: \"\",\r\n      gender: \"Male\",\r\n      address: \"\",\r\n      dateOfBirth: dayjs(),\r\n      status: \"Active\",\r\n      accountType: \"SAVING\",\r\n    },\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [error, setError] = useState<string>(\"\");\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setRegisterForm((prevForm) => ({ ...prevForm, [name]: value }));\r\n  };\r\n\r\n  const handleDtoChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setRegisterForm((prevForm) => ({\r\n      ...prevForm,\r\n      createCustomerDto: {\r\n        ...prevForm.createCustomerDto,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleDateChange = (date: Dayjs | null) => {\r\n    setRegisterForm(prevForm => ({\r\n      ...prevForm,\r\n      createCustomerDto: {\r\n        ...prevForm.createCustomerDto,\r\n        dateOfBirth: date ?? dayjs()\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      setSelectedFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n\r\n    try {\r\n      // Step 1: Register Customer\r\n      const response: any = await customerService.register(registerForm);\r\n      console.log(\"Registration Response:\", response);\r\n\r\n      // Step 2: Extract User ID from response\r\n      // Assuming the response matches UserDetailDto structure or similar returning the created user/customer\r\n      // Based on controller, it returns UserDetailDto. We need the userId.\r\n      const userId = response.userId;\r\n\r\n      if (!userId) {\r\n        throw new Error(\"Registration successful but User ID not returned. Cannot upload document.\");\r\n      }\r\n\r\n      // Step 3: Upload Document if selected\r\n      if (selectedFile) {\r\n        await customerService.uploadDocument(userId, selectedFile);\r\n        console.log(\"Document uploaded successfully\");\r\n      }\r\n\r\n      setShowModal(true);\r\n      setTimeout(() => {\r\n        setShowModal(false);\r\n        navigate(\"/login\");\r\n      }, 3000);\r\n\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      setError(err.message || \"Registration failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"container\">\r\n      <Card className=\"card\">\r\n        <div className=\"tag\">\r\n          <Avatar className=\"avatar\">\r\n            <PersonAddIcon fontSize=\"large\" />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\" fontWeight=\"bold\">\r\n            Customer Registration\r\n          </Typography>\r\n          <Typography variant=\"body2\" sx={{ opacity: 0.8, mt: 1 }}>\r\n            Join our premium banking experience\r\n          </Typography>\r\n        </div>\r\n\r\n        <div className=\"form\">\r\n          {error && (\r\n            <Box mb={2} p={2} bgcolor=\"#ffebee\" borderRadius={2}>\r\n              <Typography color=\"error\" align=\"center\">{error}</Typography>\r\n            </Box>\r\n          )}\r\n\r\n          <Stepper activeStep={activeStep} alternativeLabel>\r\n            {steps.map((label) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n\r\n          <form onSubmit={handleSubmit} noValidate>\r\n            <div className=\"step-content\">\r\n              {activeStep === 0 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\r\n                    Account Credentials\r\n                  </Typography>\r\n                  <Box display=\"flex\" gap={2} mb={2}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label=\"Username\"\r\n                      name=\"username\"\r\n                      value={registerForm.username}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      type=\"password\"\r\n                      label=\"Password\"\r\n                      name=\"password\"\r\n                      value={registerForm.password}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Box>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\" mt={3}>\r\n                    Contact Information\r\n                  </Typography>\r\n                  <Box display=\"flex\" gap={2}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      value={registerForm.email}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label=\"Phone Number\"\r\n                      name=\"phoneNumber\"\r\n                      value={registerForm.phoneNumber}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n              )}\r\n\r\n              {activeStep === 1 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\r\n                    Personal Details\r\n                  </Typography>\r\n                  <Box display=\"flex\" gap={2} mb={2}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label=\"First Name\"\r\n                      name=\"firstName\"\r\n                      value={registerForm.firstName}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label=\"Last Name\"\r\n                      name=\"lastName\"\r\n                      value={registerForm.lastName}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Box>\r\n\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    label=\"Address\"\r\n                    name=\"address\"\r\n                    value={registerForm.createCustomerDto.address}\r\n                    onChange={handleDtoChange}\r\n                    sx={{ mb: 2 }}\r\n                  />\r\n\r\n                  <Box display=\"flex\" gap={4} alignItems=\"center\" mb={2}>\r\n                    <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n                      <DatePicker\r\n                        label=\"Date of Birth\"\r\n                        value={registerForm.createCustomerDto.dateOfBirth}\r\n                        onChange={handleDateChange}\r\n                        slotProps={{ textField: { fullWidth: true } }}\r\n                      />\r\n                    </LocalizationProvider>\r\n\r\n                    <FormControl component=\"fieldset\">\r\n                      <FormLabel component=\"legend\">Gender</FormLabel>\r\n                      <RadioGroup row name=\"gender\" value={registerForm.createCustomerDto.gender} onChange={handleDtoChange}>\r\n                        <FormControlLabel value=\"Male\" control={<Radio />} label=\"Male\" />\r\n                        <FormControlLabel value=\"Female\" control={<Radio />} label=\"Female\" />\r\n                      </RadioGroup>\r\n                    </FormControl>\r\n                  </Box>\r\n\r\n                  <FormControl component=\"fieldset\" fullWidth sx={{ mt: 1 }}>\r\n                    <FormLabel component=\"legend\">Account Type</FormLabel>\r\n                    <RadioGroup row name=\"accountType\" value={registerForm.createCustomerDto.accountType} onChange={handleDtoChange}>\r\n                      <FormControlLabel value=\"SAVING\" control={<Radio />} label=\"Savings Account\" />\r\n                      <FormControlLabel value=\"CURRENT\" control={<Radio />} label=\"Current Account\" />\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </Box>\r\n              )}\r\n\r\n              {activeStep === 2 && (\r\n                <Box textAlign=\"center\">\r\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\r\n                    KYC Verification\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" mb={3}>\r\n                    Please upload a valid proof of address (ID Card, Utility Bill, etc.)\r\n                  </Typography>\r\n\r\n                  <div className=\"file-upload-area\" onClick={() => document.getElementById('file-upload')?.click()}>\r\n                    <CloudUploadIcon style={{ fontSize: 60, color: '#bdbdbd' }} />\r\n                    <Typography variant=\"body1\" mt={2} color=\"textSecondary\">\r\n                      Click to select a file\r\n                    </Typography>\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"file-upload\"\r\n                      style={{ display: \"none\" }}\r\n                      onChange={handleFileChange}\r\n                    />\r\n                  </div>\r\n\r\n                  {selectedFile && (\r\n                    <div className=\"selected-file\">\r\n                      <InsertDriveFileIcon /> {selectedFile.name}\r\n                    </div>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"navigation-buttons\">\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                variant=\"outlined\"\r\n                size=\"large\"\r\n              >\r\n                Back\r\n              </Button>\r\n\r\n              {activeStep === steps.length - 1 ? (\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  size=\"large\"\r\n                  disabled={!selectedFile} // Optional: force upload\r\n                >\r\n                  Create Account\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleNext}\r\n                  size=\"large\"\r\n                >\r\n                  Next Step\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Success Modal */}\r\n      <Modal\r\n        open={showModal}\r\n        onClose={() => { }}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{ timeout: 500 }}\r\n      >\r\n        <Fade in={showModal}>\r\n          <Box className=\"success-modal\">\r\n            <CheckCircleOutlineIcon style={{ fontSize: 80, color: '#4caf50', marginBottom: 16 }} />\r\n            <Typography variant=\"h5\" fontWeight=\"bold\" gutterBottom>\r\n              Registration Successful!\r\n            </Typography>\r\n            <Typography color=\"textSecondary\">\r\n              Your account has been created and your documents uploaded.\r\n            </Typography>\r\n            <Typography variant=\"caption\" display=\"block\" sx={{ mt: 2 }}>\r\n              Redirecting to login...\r\n            </Typography>\r\n          </Box>\r\n        </Fade>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CustomerRegister;\r\n","import { CustomerRegisterForm, GetCustomer } from \"../Types\";\r\nimport api from \"./api\";\r\nimport { ApiResponse } from \"./api\";\r\nimport { CreateCustomerDto } from \"../Types\";\r\n\r\n// Customer API Service - Banking-Grade Model\r\nexport const customerService = {\r\n  // Create new customer\r\n  createCustomer: async (customerData: CreateCustomerDto): Promise<CreateCustomerDto> => {\r\n    const response = await api.post<CreateCustomerDto>('customer/create-customer', customerData);\r\n    return response.data;\r\n  },\r\n\r\n  // API call for fetching customer details by userId\r\n  getCustomer: async (userId: number): Promise<GetCustomer | null> => {\r\n    try {\r\n      const response = await api.get<GetCustomer>(`customer/${userId}`);\r\n      console.log(response);  // Can be removed in production\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Error fetching customer data:\", error);\r\n      throw new Error(\"Error fetching customer data. Please try again.\");\r\n    }\r\n  },\r\n\r\n  // Register new customer\r\n  register: async (registerForm: CustomerRegisterForm): Promise<CustomerRegisterForm> => {\r\n    const response = await api.post<CustomerRegisterForm>('users/customer', registerForm);\r\n    return response.data;\r\n  },\r\n\r\n  // Upload customer document\r\n  uploadDocument: async (customerId: number, file: File): Promise<any> => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    const response = await api.post(`customer/${customerId}/upload`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    return response.data;\r\n  }\r\n};"],"names":["steps","CustomerRegister","registerForm","setRegisterForm","useState","username","password","email","firstName","lastName","phoneNumber","roleNames","permissionNames","createCustomerDto","id","userId","gender","address","dateOfBirth","dayjs","status","accountType","selectedFile","setSelectedFile","error","setError","activeStep","setActiveStep","showModal","setShowModal","navigate","useNavigate","handleInputChange","event","name","value","target","prevForm","handleDtoChange","_jsxs","Container","className","children","Card","_jsx","Avatar","PersonAddIcon","fontSize","Typography","component","variant","fontWeight","sx","opacity","mt","Box","mb","p","bgcolor","borderRadius","color","align","Stepper","alternativeLabel","map","label","Step","StepLabel","onSubmit","async","preventDefault","response","customerService","register","console","log","Error","uploadDocument","setTimeout","err","message","noValidate","gutterBottom","display","gap","TextField","required","fullWidth","onChange","type","alignItems","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","date","slotProps","textField","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","textAlign","onClick","_document$getElementB","document","getElementById","click","CloudUploadIcon","style","files","length","InsertDriveFileIcon","Button","disabled","handleBack","prevActiveStep","size","handleNext","Modal","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","CheckCircleOutlineIcon","marginBottom","createCustomer","api","post","customerData","data","getCustomer","get","customerId","file","formData","FormData","append","headers"],"sourceRoot":""}