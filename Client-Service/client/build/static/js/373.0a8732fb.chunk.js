"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[373],{7373:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var n=t(5043),r=t(4516),o=t(1637),i=t(4496),a=t(4393),l=t(1787),c=t(4194),d=t(9650),h=t(1596),u=t(1806),A=t(4882),p=t(8076),x=t(2420),m=t(3460),j=t(3845),v=t(7739),g=t(1906),y=t(6734),S=t(579);const b=(0,y.A)((0,S.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var f=t(1007);const C=(0,y.A)((0,S.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var E=t(6291);const I=()=>{const[e,s]=(0,n.useState)([]),[t,y]=(0,n.useState)(!0),[I,L]=(0,n.useState)(null),[T,P]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{try{const e=await E.A.get("/users/get");s(e.data.data||[])}catch(e){L("Failed to fetch user directory.")}finally{y(!1)}})()}),[]);const w=e.filter((e=>e.userName.toLowerCase().includes(T.toLowerCase())||e.email.toLowerCase().includes(T.toLowerCase())));return t?(0,S.jsx)(r.A,{display:"flex",justifyContent:"center",mt:4,children:(0,S.jsx)(o.A,{})}):(0,S.jsxs)(r.A,{p:3,children:[(0,S.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[(0,S.jsxs)(r.A,{children:[(0,S.jsx)(i.A,{variant:"h4",fontWeight:"bold",children:"User Management"}),(0,S.jsx)(i.A,{variant:"body2",color:"textSecondary",children:"Oversee and secure all customer and administrator profiles"})]}),(0,S.jsx)(a.A,{placeholder:"Search by name or email...",variant:"outlined",size:"small",value:T,onChange:e=>P(e.target.value),sx:{width:300},InputProps:{startAdornment:(0,S.jsx)(l.A,{position:"start",children:(0,S.jsx)(b,{})})}})]}),I&&(0,S.jsx)(c.A,{severity:"error",sx:{mb:3},children:I}),(0,S.jsx)(d.A,{component:h.A,sx:{borderRadius:3,boxShadow:2},children:(0,S.jsxs)(u.A,{children:[(0,S.jsx)(A.A,{sx:{bgcolor:"#f1f3f4"},children:(0,S.jsxs)(p.A,{children:[(0,S.jsx)(x.A,{children:(0,S.jsx)("strong",{children:"User ID"})}),(0,S.jsx)(x.A,{children:(0,S.jsx)("strong",{children:"Username"})}),(0,S.jsx)(x.A,{children:(0,S.jsx)("strong",{children:"Email"})}),(0,S.jsx)(x.A,{children:(0,S.jsx)("strong",{children:"Role"})}),(0,S.jsx)(x.A,{align:"center",children:(0,S.jsx)("strong",{children:"Status"})}),(0,S.jsx)(x.A,{align:"center",children:(0,S.jsx)("strong",{children:"Security Actions"})})]})}),(0,S.jsx)(m.A,{children:w.map((t=>(0,S.jsxs)(p.A,{hover:!0,children:[(0,S.jsx)(x.A,{children:t.userId}),(0,S.jsx)(x.A,{sx:{fontWeight:"medium"},children:t.userName}),(0,S.jsx)(x.A,{children:t.email}),(0,S.jsx)(x.A,{children:(0,S.jsx)(j.A,{label:t.role,size:"small",variant:"outlined",color:"ADMIN"===t.role?"secondary":"default"})}),(0,S.jsx)(x.A,{align:"center",children:(0,S.jsx)(j.A,{label:t.status,size:"small",color:"ACTIVE"===t.status?"success":"error"})}),(0,S.jsx)(x.A,{align:"center",children:(0,S.jsx)(v.A,{title:"ACTIVE"===t.status?"Lock User Account":"Unlock User Account",children:(0,S.jsx)(g.A,{variant:"contained",size:"small",color:"ACTIVE"===t.status?"error":"success",onClick:()=>(async(t,n)=>{console.log(`Toggling lock for user ${t}. Current: ${n}`),s(e.map((e=>e.userId===t?{...e,status:"ACTIVE"===n?"LOCKED":"ACTIVE"}:e)))})(t.userId,t.status),startIcon:"ACTIVE"===t.status?(0,S.jsx)(f.A,{}):(0,S.jsx)(C,{}),children:"ACTIVE"===t.status?"LOCK":"UNLOCK"})})})]},t.userId)))})]})})]})}},6291:(e,s,t)=>{t.d(s,{A:()=>r});const n=t(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use((e=>{const s=localStorage.getItem("authToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e.idempotencyKey&&(e.headers["Idempotency-Key"]=e.idempotencyKey),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));const r=n},1007:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6734),r=t(579);const o=(0,n.A)((0,r.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock")},1787:(e,s,t)=>{t.d(s,{A:()=>y});var n=t(5043),r=t(8387),o=t(8610),i=t(6803),a=t(4496),l=t(1053),c=t(5213),d=t(4535),h=t(6870),u=t(8206),A=t(2532),p=t(2372);function x(e){return(0,p.Ay)("MuiInputAdornment",e)}const m=(0,A.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var j,v=t(579);const g=(0,d.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,s[`position${(0,i.A)(t.position)}`],!0===t.disablePointerEvents&&s.disablePointerEvents,s[t.variant]]}})((0,h.A)((e=>{let{theme:s}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${m.positionStart}&:not(.${m.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),y=n.forwardRef((function(e,s){const t=(0,u.b)({props:e,name:"MuiInputAdornment"}),{children:d,className:h,component:A="div",disablePointerEvents:p=!1,disableTypography:m=!1,position:y,variant:S,...b}=t,f=(0,c.A)()||{};let C=S;S&&f.variant,f&&!C&&(C=f.variant);const E={...t,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:p,position:y,variant:C},I=(e=>{const{classes:s,disablePointerEvents:t,hiddenLabel:n,position:r,size:a,variant:l}=e,c={root:["root",t&&"disablePointerEvents",r&&`position${(0,i.A)(r)}`,l,n&&"hiddenLabel",a&&`size${(0,i.A)(a)}`]};return(0,o.A)(c,x,s)})(E);return(0,v.jsx)(l.A.Provider,{value:null,children:(0,v.jsx)(g,{as:A,ownerState:E,className:(0,r.A)(I.root,h),ref:s,...b,children:"string"!==typeof d||m?(0,v.jsxs)(n.Fragment,{children:["start"===y?j||(j=(0,v.jsx)("span",{className:"notranslate",children:"\u200b"})):null,d]}):(0,v.jsx)(a.A,{color:"textSecondary",children:d})})})}))}}]);
//# sourceMappingURL=373.0a8732fb.chunk.js.map