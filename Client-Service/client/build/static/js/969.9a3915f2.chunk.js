"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[969],{969:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var r=s(5043),i=s(4516),n=s(4496),a=s(1596),l=s(8903),c=s(4393),o=s(1906),d=s(4194),h=s(9650),x=s(1806),A=s(4882),u=s(8076),j=s(2420),m=s(3460),p=s(3845),S=s(7739),g=s(7392),v=s(6734),y=s(579);const I=(0,v.A)((0,y.jsx)("path",{d:"M20 4H4c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H4V8h16zm-2-1h-6v-2h6zM7.5 17l-1.41-1.41L8.67 13l-2.59-2.59L7.5 9l4 4z"}),"Terminal"),b=(0,v.A)((0,y.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList");var f=s(3794),E=s(6291);const T=()=>{const[e,t]=(0,r.useState)([]),[s,v]=(0,r.useState)(!0),[T,C]=(0,r.useState)(null),[R,z]=(0,r.useState)(""),[w,O]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{v(!0);try{const e=await E.A.get("/audit/all");t(e.data)}catch(e){C("Audit logs could not be retrieved. Ensure Audit-Service is reachable."),t([{id:1,timestamp:(new Date).toISOString(),userId:"admin",action:"LOGIN",status:"SUCCESS",correlationId:"tx-9988-aa"},{id:2,timestamp:(new Date).toISOString(),userId:"uday",action:"TRANSFER",status:"COMPLETED",correlationId:"tx-1122-bb",details:"Transfer to 123456"},{id:3,timestamp:(new Date).toISOString(),userId:"sys",action:"BLOCK",status:"TRIGGERED",correlationId:"tx-4433-cc",details:"Account 9988 blocked due to risk"}])}finally{v(!1)}})()}),[]);const _=e=>{switch(e){case"TRANSFER":return"primary";case"BLOCK":return"error";case"LOGIN":return"success";default:return"default"}};return(0,y.jsxs)(i.A,{p:3,children:[(0,y.jsxs)(i.A,{display:"flex",alignItems:"center",gap:2,mb:4,children:[(0,y.jsx)(I,{color:"action",sx:{fontSize:40}}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)(n.A,{variant:"h4",fontWeight:"bold",children:"Audit Center"}),(0,y.jsx)(n.A,{variant:"body2",color:"textSecondary",children:"Immutable forensic logs for compliance and security oversight"})]})]}),(0,y.jsx)(a.A,{sx:{p:2,mb:4,borderRadius:3},children:(0,y.jsxs)(l.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,y.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,y.jsx)(c.A,{fullWidth:!0,size:"small",label:"Search User ID",value:R,onChange:e=>z(e.target.value)})}),(0,y.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,y.jsx)(c.A,{fullWidth:!0,size:"small",label:"Action Type (e.g. TRANSFER)",value:w,onChange:e=>O(e.target.value)})}),(0,y.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,y.jsx)(o.A,{variant:"outlined",startIcon:(0,y.jsx)(b,{}),fullWidth:!0,children:"Apply Filters"})})]})}),T&&(0,y.jsx)(d.A,{severity:"info",sx:{mb:3},children:T}),(0,y.jsx)(h.A,{component:a.A,sx:{borderRadius:3,boxShadow:3},children:(0,y.jsxs)(x.A,{size:"small",children:[(0,y.jsx)(A.A,{sx:{bgcolor:"#263238"},children:(0,y.jsxs)(u.A,{children:[(0,y.jsx)(j.A,{sx:{color:"white"},children:(0,y.jsx)("strong",{children:"Timestamp"})}),(0,y.jsx)(j.A,{sx:{color:"white"},children:(0,y.jsx)("strong",{children:"User"})}),(0,y.jsx)(j.A,{sx:{color:"white"},children:(0,y.jsx)("strong",{children:"Action"})}),(0,y.jsx)(j.A,{sx:{color:"white"},children:(0,y.jsx)("strong",{children:"Status"})}),(0,y.jsx)(j.A,{sx:{color:"white"},children:(0,y.jsx)("strong",{children:"Correlation ID"})}),(0,y.jsx)(j.A,{sx:{color:"white"},align:"center",children:(0,y.jsx)("strong",{children:"Details"})})]})}),(0,y.jsx)(m.A,{children:e.map((e=>(0,y.jsxs)(u.A,{hover:!0,children:[(0,y.jsx)(j.A,{children:new Date(e.timestamp).toLocaleString()}),(0,y.jsx)(j.A,{children:(0,y.jsx)(n.A,{variant:"body2",fontWeight:"bold",children:e.userId})}),(0,y.jsx)(j.A,{children:(0,y.jsx)(p.A,{label:e.action,size:"small",color:_(e.action)})}),(0,y.jsx)(j.A,{children:e.status}),(0,y.jsx)(j.A,{children:(0,y.jsx)(n.A,{variant:"caption",fontFamily:"monospace",children:e.correlationId})}),(0,y.jsx)(j.A,{align:"center",children:(0,y.jsx)(S.A,{title:e.details||"No extra data",children:(0,y.jsx)(g.A,{size:"small",children:(0,y.jsx)(f.A,{fontSize:"small"})})})})]},e.id)))})]})})]})}},6291:(e,t,s)=>{s.d(t,{A:()=>i});const r=s(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e.idempotencyKey&&(e.headers["Idempotency-Key"]=e.idempotencyKey),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));const i=r},3794:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(6734),i=s(579);const n=(0,r.A)((0,i.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")}}]);
//# sourceMappingURL=969.9a3915f2.chunk.js.map