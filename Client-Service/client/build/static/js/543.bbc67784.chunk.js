"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[543],{5543:(e,t,s)=>{s.r(t),s.d(t,{default:()=>G});var a=s(5043),r=s(4516),n=s(4496),o=s(2816),i=s(1596),c=s(9336),d=s(6636),l=s(196),x=s(7800);const u=async e=>(await x.A.get("account/getall",{params:{customerId:e}})).data,h=async e=>(await x.A.get(`user-customer-mapping/user/${e}`)).data;var m=s(7392),p=s(5721),A=s(681),g=s(2050),j=s(8734),f=s(5475),v=s(6734),b=s(579);const y=(0,v.A)((0,b.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var w=s(2252),S=s(8602);const C=(0,v.A)((0,b.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var M=s(9641);const N=(0,v.A)((0,b.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),k=(0,v.A)((0,b.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History");var H=s(5846),W=s(5155);const z=(0,v.A)((0,b.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),E=(0,v.A)((0,b.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),L=e=>{let{to:t,icon:s,text:a,collapsed:r}=e;return(0,b.jsxs)(A.Ay,{component:f.N_,to:t,children:[(0,b.jsx)(g.A,{sx:{color:"white"},children:s}),!r&&(0,b.jsx)(j.A,{primary:a,sx:{color:"white"}})]})},R=()=>{const{collapsed:e,toggleSidebar:t}=(0,d.cL)(),s=localStorage.getItem("roles"),a=s?JSON.parse(s):[],n=a.includes("ADMIN"),o=a.includes("CUSTOMER_USER")||a.includes("CUSTOMER");return(0,b.jsxs)(r.A,{className:"sidebar-container "+(e?"collapsed":""),sx:{width:e?"60px":"250px",transition:"all 0.3s ease"},children:[(0,b.jsx)(r.A,{display:"flex",justifyContent:"flex-end",p:1,children:(0,b.jsx)(m.A,{onClick:t,sx:{color:"white"},"aria-label":e?"Expand Sidebar":"Collapse Sidebar",children:e?(0,b.jsx)(y,{}):(0,b.jsx)(w.A,{})})}),(0,b.jsxs)(p.A,{children:[(0,b.jsx)(L,{to:"/dashboard",icon:(0,b.jsx)(S.A,{}),text:"Dashboard",collapsed:e}),(0,b.jsx)(L,{to:"/profile",icon:(0,b.jsx)(C,{}),text:"Profile",collapsed:e}),o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{sx:{backgroundColor:"rgba(255,255,255,0.1)",my:1}}),(0,b.jsx)(L,{to:"/accounts",icon:(0,b.jsx)(M.A,{}),text:"My Accounts",collapsed:e}),(0,b.jsx)(L,{to:"/transfer",icon:(0,b.jsx)(N,{}),text:"Transfer Money",collapsed:e}),(0,b.jsx)(L,{to:"/transactions",icon:(0,b.jsx)(k,{}),text:"Activity History",collapsed:e})]}),n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{sx:{backgroundColor:"rgba(255,255,255,0.1)",my:1}}),(0,b.jsx)(L,{to:"/admin/dashboard",icon:(0,b.jsx)(H.A,{}),text:"System Overview",collapsed:e}),(0,b.jsx)(L,{to:"/admin/users",icon:(0,b.jsx)(W.A,{}),text:"User Management",collapsed:e}),(0,b.jsx)(L,{to:"/admin/audit",icon:(0,b.jsx)(z,{}),text:"Audit Center",collapsed:e})]}),(0,b.jsx)(c.A,{sx:{backgroundColor:"rgba(255,255,255,0.1)",my:1}}),(0,b.jsx)(L,{to:"/logout",icon:(0,b.jsx)(E,{}),text:"Logout",collapsed:e})]})]})},G=()=>{const{collapsed:e}=(0,d.cL)(),[t,s]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[p,A]=(0,a.useState)([]),[g,j]=(0,a.useState)(!0),[f,v]=(0,a.useState)(null);return(0,a.useEffect)((()=>{const e=localStorage.getItem("userDetails");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length>0&&s(t[0])}}),[]),(0,a.useEffect)((()=>{(async()=>{if(t)try{j(!0),v(null);const e=await h(t.userId);if(!e)return void v("No customer account found for this user");const s=await l.m.getCustomer(e.customerId);m(s);const a=await u(e.customerId);A(a)}catch(e){console.error("Error fetching dashboard data:",e),v("Failed to load dashboard data")}finally{j(!1)}})()}),[t]),(0,b.jsxs)(r.A,{children:[(0,b.jsx)(r.A,{className:"navbar",sx:{display:"flex",alignItems:"center",padding:"0 20px"},children:(0,b.jsx)(n.A,{variant:"h6",className:"title",children:"My Application"})}),(0,b.jsxs)(r.A,{display:"flex",children:[(0,b.jsx)(R,{}),(0,b.jsx)(r.A,{className:"main-content "+(e?"collapsed":""),sx:{flexGrow:1,marginLeft:e?"60px":"250px",marginTop:"64px",padding:"20px",transition:"margin-left 0.3s ease"},children:(0,b.jsxs)(o.A,{children:[(0,b.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,b.jsxs)(i.A,{elevation:3,sx:{padding:2,mt:3},children:[(0,b.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"User Information"}),(0,b.jsx)(c.A,{sx:{mb:2}}),t?(0,b.jsxs)(r.A,{children:[(0,b.jsxs)(n.A,{children:[(0,b.jsx)("strong",{children:"Name:"})," ",t.firstName," ",t.lastName]}),(0,b.jsxs)(n.A,{children:[(0,b.jsx)("strong",{children:"Email:"})," ",t.email]}),(0,b.jsxs)(n.A,{children:[(0,b.jsx)("strong",{children:"Username:"})," ",t.userName]}),(0,b.jsxs)(n.A,{children:[(0,b.jsx)("strong",{children:"Phone Number:"})," ",t.phoneNumber||"N/A"]})]}):(0,b.jsx)(n.A,{children:"No user data found"})]})]})})]})]})}},196:(e,t,s)=>{s.d(t,{m:()=>r});var a=s(7800);const r={createCustomer:async e=>(await a.A.post("customer/create-customer",e)).data,getCustomer:async e=>{try{const t=await a.A.get(`customer/${e}`);return console.log(t),t.data}catch(t){throw console.error("Error fetching customer data:",t),new Error("Error fetching customer data. Please try again.")}},register:async e=>(await a.A.post("users/customer",e)).data,uploadDocument:async(e,t)=>{const s=new FormData;s.append("file",t);return(await a.A.post(`customer/${e}/upload`,s,{headers:{"Content-Type":"multipart/form-data"}})).data}}},9641:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(6734),r=s(579);const n=(0,a.A)((0,r.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance")},2816:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(5043),r=s(8387),n=s(2372),o=s(8610),i=s(7598),c=s(1720),d=s(6620),l=s(2390),x=s(579);const u=(0,l.A)(),h=(0,d.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`maxWidth${(0,i.A)(String(s.maxWidth))}`],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),m=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:u});var p=s(6803),A=s(4535),g=s(2876);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=h,useThemeProps:s=m,componentName:c="MuiContainer"}=e,d=t((e=>{let{theme:t,ownerState:s}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}}),(e=>{let{theme:t,ownerState:s}=e;return s.fixed&&Object.keys(t.breakpoints.values).reduce(((e,s)=>{const a=s,r=t.breakpoints.values[a];return 0!==r&&(e[t.breakpoints.up(a)]={maxWidth:`${r}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:s}=e;return{..."xs"===s.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...s.maxWidth&&"xs"!==s.maxWidth&&{[t.breakpoints.up(s.maxWidth)]:{maxWidth:`${t.breakpoints.values[s.maxWidth]}${t.breakpoints.unit}`}}}})),l=a.forwardRef((function(e,t){const a=s(e),{className:l,component:u="div",disableGutters:h=!1,fixed:m=!1,maxWidth:p="lg",classes:A,...g}=a,j={...a,component:u,disableGutters:h,fixed:m,maxWidth:p},f=((e,t)=>{const{classes:s,fixed:a,disableGutters:r,maxWidth:c}=e,d={root:["root",c&&`maxWidth${(0,i.A)(String(c))}`,a&&"fixed",r&&"disableGutters"]};return(0,o.A)(d,(e=>(0,n.Ay)(t,e)),s)})(j,c);return(0,x.jsx)(d,{as:u,ownerState:j,className:(0,r.A)(f.root,l),ref:t,...g})}));return l}({createStyledComponent:(0,A.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`maxWidth${(0,p.A)(String(s.maxWidth))}`],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,g.A)({props:e,name:"MuiContainer"})}),f=j}}]);
//# sourceMappingURL=543.bbc67784.chunk.js.map