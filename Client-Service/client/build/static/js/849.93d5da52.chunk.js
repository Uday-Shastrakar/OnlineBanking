"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[849],{8243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(5043),a=r(2816),o=r(2110),s=r(1045),i=r(4496),l=r(4393),c=r(1906),u=r(8903),d=r(8387),p=r(6596),m=r(8610),y=r(8218),h=r(6803),A=r(4535),v=r(6240),g=r(6870),b=r(8206),x=r(2532),S=r(2372);function w(e){return(0,S.Ay)("MuiLink",e)}const f=(0,x.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var C=r(6224);const N=e=>{let{theme:t,ownerState:r}=e;const n=r.color,a=(0,C.Yn)(t,`palette.${n}`,!1)||r.color,o=(0,C.Yn)(t,`palette.${n}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:(0,p.X4)(a,.4)};var j=r(579);const I={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},R=(0,A.Ay)(i.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${(0,h.A)(r.underline)}`],"button"===r.component&&t.button]}})((0,g.A)((e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:r}=e;return"always"===t&&"inherit"!==r.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[r]=e;return{props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:(0,p.X4)(t.palette[r].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,p.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:(0,p.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${f.focusVisible}`]:{outline:"auto"}}}]}}))),k=n.forwardRef((function(e,t){const r=(0,b.b)({props:e,name:"MuiLink"}),a=(0,v.A)(),{className:o,color:s="primary",component:i="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:p="always",variant:A="inherit",sx:g,...x}=r,[S,f]=n.useState(!1),C={...r,color:s,component:i,focusVisible:S,underline:p,variant:A},k=(e=>{const{classes:t,component:r,focusVisible:n,underline:a}=e,o={root:["root",`underline${(0,h.A)(a)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,m.A)(o,w,t)})(C);return(0,j.jsx)(R,{color:s,className:(0,d.A)(k.root,o),classes:u,component:i,onBlur:e=>{(0,y.A)(e.target)||f(!1),l&&l(e)},onFocus:e=>{(0,y.A)(e.target)&&f(!0),c&&c(e)},ref:t,ownerState:C,variant:A,...x,sx:[...void 0===I[s]?[{color:s}]:[],...Array.isArray(g)?g:[g]],style:{...x.style,..."always"===p&&"inherit"!==s&&!I[s]&&{"--Link-underlineColor":N({theme:a,ownerState:C})}}})}));var D=r(1422),L=r(3216),_=r(7566);const T=()=>{const[e,t]=(0,n.useState)(""),[r,d]=(0,n.useState)(""),[p,m]=(0,n.useState)(""),y=(0,L.Zp)();return(0,j.jsx)(a.A,{className:"container",children:(0,j.jsxs)(o.A,{className:"card",children:[(0,j.jsxs)("div",{className:"tag",children:[(0,j.jsx)(s.A,{className:"avatar",children:(0,j.jsx)(_.A,{})}),(0,j.jsx)(i.A,{component:"h1",variant:"h5",children:"LogIn"}),p&&(0,j.jsx)(i.A,{color:"error",children:p})]}),(0,j.jsxs)("form",{className:"form",onSubmit:async t=>{t.preventDefault();try{await(0,D.iD)({username:e,password:r});y("/dashboard")}catch(n){m(n.message||"Login failed. Please try again.")}},noValidate:!0,children:[(0,j.jsx)(l.A,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,j.jsx)(l.A,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:e=>d(e.target.value)}),(0,j.jsxs)("div",{className:"submit-btn",children:[(0,j.jsx)(c.A,{type:"submit",variant:"contained",className:"submit",children:"Log In"}),p&&(0,j.jsx)(i.A,{color:"error",align:"center",variant:"body2",children:p})]}),(0,j.jsxs)(u.Ay,{container:!0,children:[(0,j.jsx)(u.Ay,{item:!0,xs:!0,children:(0,j.jsx)(k,{href:"/forgotpassword",variant:"body2",children:"Forgot password?"})}),(0,j.jsx)(u.Ay,{item:!0,children:(0,j.jsx)(k,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})}},6291:(e,t,r)=>{r.d(t,{A:()=>a});const n=r(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e.idempotencyKey&&(e.headers["Idempotency-Key"]=e.idempotencyKey),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));const a=n},1422:(e,t,r)=>{r.d(t,{BD:()=>s,RY:()=>i,hU:()=>c,iD:()=>a,kz:()=>o,xw:()=>l});var n=r(6291);const a=async e=>{const t=await n.A.post("auth/login",e),{jwtToken:r,userName:a,authorities:o,userId:s,email:i,firstName:l,lastName:c,phoneNumber:u}=t.data.data;localStorage.setItem("authToken",r),localStorage.setItem("userName",a),localStorage.setItem("roles",JSON.stringify(o.filter((e=>["ADMIN","USER","CUSTOMER"].includes(e))))),localStorage.setItem("permissions",JSON.stringify(o.filter((e=>["PERMISSION_READ","PERMISSION_WRITE"].includes(e)))));const d=[{userId:s,email:i,userName:a,firstName:l,lastName:c,phoneNumber:u}];localStorage.setItem("userDetails",JSON.stringify(d))},o=async e=>(await n.A.post("users/create",e)).data,s=async e=>(await n.A.post(`auth/forgot-password?email=${encodeURIComponent(e)}`)).data,i=async e=>(await n.A.post(`auth/verify-otp?otp=${encodeURIComponent(e)}`)).data,l=async(e,t)=>(await n.A.post(`auth/reset-password?otp=${encodeURIComponent(e)}&newPassword=${encodeURIComponent(t)}`)).data,c=async()=>(await n.A.get("users/get")).data},5879:(e,t,r)=>{r.d(t,{A:()=>n});const n=r(5844).A}}]);
//# sourceMappingURL=849.93d5da52.chunk.js.map