"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[570],{8570:(e,t,r)=>{r.r(t),r.d(t,{default:()=>V});var n=r(5043),o=r(2816),a=r(2110),i=r(1045),s=r(4496),l=r(4393),c=r(1906),u=r(8387),p=r(1136),d=r(8222),m=r(8610),h=r(4535),g=r(2876),f=r(6240);const b=n.createContext();var w=r(2532),x=r(2372);function v(e){return(0,x.Ay)("MuiGrid",e)}const y=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],S=(0,w.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...y.map((e=>`grid-xs-${e}`)),...y.map((e=>`grid-sm-${e}`)),...y.map((e=>`grid-md-${e}`)),...y.map((e=>`grid-lg-${e}`)),...y.map((e=>`grid-xl-${e}`))]);var A=r(579);function k(e){let{breakpoints:t,values:r}=e,n="";Object.keys(r).forEach((e=>{""===n&&0!==r[e]&&(n=e)}));const o=Object.keys(t).sort(((e,r)=>t[e]-t[r]));return o.slice(0,o.indexOf(n))}const $=(0,h.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:o,item:a,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:c}=r;let u=[];n&&(u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&n.push(r[`spacing-${t}-${String(o)}`])})),n}(i,c,t));const p=[];return c.forEach((e=>{const n=r[e];n&&p.push(t[`grid-${e}-${String(n)}`])})),[t.root,n&&t.container,a&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...p]}})((e=>{let{ownerState:t}=e;return{boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},..."wrap"!==t.wrap&&{flexWrap:t.wrap}}}),(function(e){let{theme:t,ownerState:r}=e;const n=(0,p.kW)({values:r.direction,breakpoints:t.breakpoints.values});return(0,p.NI)({theme:t},n,(e=>{const t={flexDirection:e};return e.startsWith("column")&&(t[`& > .${S.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:r}=e;const{container:n,rowSpacing:o}=r;let a={};if(n&&0!==o){const e=(0,p.kW)({values:o,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=k({breakpoints:t.breakpoints.values,values:e})),a=(0,p.NI)({theme:t},e,((e,n)=>{const o=t.spacing(e);return"0px"!==o?{marginTop:t.spacing(-e),[`& > .${S.item}`]:{paddingTop:o}}:r?.includes(n)?{}:{marginTop:0,[`& > .${S.item}`]:{paddingTop:0}}}))}return a}),(function(e){let{theme:t,ownerState:r}=e;const{container:n,columnSpacing:o}=r;let a={};if(n&&0!==o){const e=(0,p.kW)({values:o,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=k({breakpoints:t.breakpoints.values,values:e})),a=(0,p.NI)({theme:t},e,((e,n)=>{const o=t.spacing(e);if("0px"!==o){return{width:`calc(100% + ${o})`,marginLeft:t.spacing(-e),[`& > .${S.item}`]:{paddingLeft:o}}}return r?.includes(n)?{}:{width:"100%",marginLeft:0,[`& > .${S.item}`]:{paddingLeft:0}}}))}return a}),(function(e){let t,{theme:r,ownerState:n}=e;return r.breakpoints.keys.reduce(((e,o)=>{let a={};if(n[o]&&(t=n[o]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=(0,p.kW)({values:n.columns,breakpoints:r.breakpoints.values}),s="object"===typeof i?i[o]:i;if(void 0===s||null===s)return e;const l=Math.round(t/s*1e8)/1e6+"%";let c={};if(n.container&&n.item&&0!==n.columnSpacing){const e=r.spacing(n.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${e})`;c={flexBasis:t,maxWidth:t}}}a={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return 0===r.breakpoints.values[o]?Object.assign(e,a):e[r.breakpoints.up(o)]=a,e}),{})}));const N=e=>{const{classes:t,container:r,direction:n,item:o,spacing:a,wrap:i,zeroMinWidth:s,breakpoints:l}=e;let c=[];r&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const r=[];return t.forEach((t=>{const n=e[t];if(Number(n)>0){const e=`spacing-${t}-${String(n)}`;r.push(e)}})),r}(a,l));const u=[];l.forEach((t=>{const r=e[t];r&&u.push(`grid-${t}-${String(r)}`)}));const p={root:["root",r&&"container",o&&"item",s&&"zeroMinWidth",...c,"row"!==n&&`direction-xs-${String(n)}`,"wrap"!==i&&`wrap-xs-${String(i)}`,...u]};return(0,m.A)(p,v,t)},C=n.forwardRef((function(e,t){const r=(0,g.A)({props:e,name:"MuiGrid"}),{breakpoints:o}=(0,f.A)(),a=(0,d.A)(r),{className:i,columns:s,columnSpacing:l,component:c="div",container:p=!1,direction:m="row",item:h=!1,rowSpacing:w,spacing:x=0,wrap:v="wrap",zeroMinWidth:y=!1,...S}=a,k=w||x,C=l||x,j=n.useContext(b),W=p?s||12:j,I={},R={...S};o.keys.forEach((e=>{null!=S[e]&&(I[e]=S[e],delete R[e])}));const M={...a,columns:W,container:p,direction:m,item:h,rowSpacing:k,columnSpacing:C,wrap:v,zeroMinWidth:y,spacing:x,...I,breakpoints:o.keys},D=N(M);return(0,A.jsx)(b.Provider,{value:W,children:(0,A.jsx)($,{ownerState:M,className:(0,u.A)(D.root,i),as:c,ref:t,...R})})}));const j=C;var W=r(6596),I=r(8218),R=r(6803),M=r(6870),D=r(8206);function E(e){return(0,x.Ay)("MuiLink",e)}const L=(0,w.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var T=r(6224);const O=e=>{let{theme:t,ownerState:r}=e;const n=r.color,o=(0,T.Yn)(t,`palette.${n}`,!1)||r.color,a=(0,T.Yn)(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:(0,W.X4)(o,.4)},_={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},P=(0,h.Ay)(s.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${(0,R.A)(r.underline)}`],"button"===r.component&&t.button]}})((0,M.A)((e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:r}=e;return"always"===t&&"inherit"!==r.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[r]=e;return{props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:(0,W.X4)(t.palette[r].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,W.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:(0,W.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${L.focusVisible}`]:{outline:"auto"}}}]}}))),z=n.forwardRef((function(e,t){const r=(0,D.b)({props:e,name:"MuiLink"}),o=(0,f.A)(),{className:a,color:i="primary",component:s="a",onBlur:l,onFocus:c,TypographyClasses:p,underline:d="always",variant:h="inherit",sx:g,...b}=r,[w,x]=n.useState(!1),v={...r,color:i,component:s,focusVisible:w,underline:d,variant:h},y=(e=>{const{classes:t,component:r,focusVisible:n,underline:o}=e,a={root:["root",`underline${(0,R.A)(o)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,m.A)(a,E,t)})(v);return(0,A.jsx)(P,{color:i,className:(0,u.A)(y.root,a),classes:p,component:s,onBlur:e=>{(0,I.A)(e.target)||x(!1),l&&l(e)},onFocus:e=>{(0,I.A)(e.target)&&x(!0),c&&c(e)},ref:t,ownerState:v,variant:h,...b,sx:[...void 0===_[i]?[{color:i}]:[],...Array.isArray(g)?g:[g]],style:{...b.style,..."always"===d&&"inherit"!==i&&!_[i]&&{"--Link-underlineColor":O({theme:o,ownerState:v})}}})}));var U=r(1422),B=r(3216),G=r(7566);const V=()=>{const[e,t]=(0,n.useState)(""),[r,u]=(0,n.useState)(""),[p,d]=(0,n.useState)(""),m=(0,B.Zp)();return(0,A.jsx)(o.A,{className:"container",children:(0,A.jsxs)(a.A,{className:"card",children:[(0,A.jsxs)("div",{className:"tag",children:[(0,A.jsx)(i.A,{className:"avatar",children:(0,A.jsx)(G.A,{})}),(0,A.jsx)(s.A,{component:"h1",variant:"h5",children:"LogIn"}),p&&(0,A.jsx)(s.A,{color:"error",children:p})]}),(0,A.jsxs)("form",{className:"form",onSubmit:async t=>{t.preventDefault();try{await(0,U.iD)({username:e,password:r});m("/dashboard")}catch(n){d(n.message||"Login failed. Please try again.")}},noValidate:!0,children:[(0,A.jsx)(l.A,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,A.jsx)(l.A,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:e=>u(e.target.value)}),(0,A.jsxs)("div",{className:"submit-btn",children:[(0,A.jsx)(c.A,{type:"submit",variant:"contained",className:"submit",children:"Log In"}),p&&(0,A.jsx)(s.A,{color:"error",align:"center",variant:"body2",children:p})]}),(0,A.jsxs)(j,{container:!0,children:[(0,A.jsx)(j,{item:!0,xs:!0,children:(0,A.jsx)(z,{href:"/forgotpassword",variant:"body2",children:"Forgot password?"})}),(0,A.jsx)(j,{item:!0,children:(0,A.jsx)(z,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})}},6291:(e,t,r)=>{r.d(t,{A:()=>o});const n=r(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://192.168.1.100:9093/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));const o=n},1422:(e,t,r)=>{r.d(t,{BD:()=>i,RY:()=>s,hU:()=>c,iD:()=>o,kz:()=>a,xw:()=>l});var n=r(6291);const o=async e=>{const t=await n.A.post("auth/login",e),{jwtToken:r,userName:o,authorities:a,userId:i,email:s,firstName:l,lastName:c,phoneNumber:u}=t.data.data;localStorage.setItem("authToken",r),localStorage.setItem("userName",o),localStorage.setItem("roles",JSON.stringify(a.filter((e=>["ADMIN","USER","CUSTOMER"].includes(e))))),localStorage.setItem("permissions",JSON.stringify(a.filter((e=>["PERMISSION_READ","PERMISSION_WRITE"].includes(e)))));const p=[{userId:i,email:s,userName:o,firstName:l,lastName:c,phoneNumber:u}];localStorage.setItem("userDetails",JSON.stringify(p))},a=async e=>(await n.A.post("/users/create",e)).data,i=async e=>(await n.A.post(`/auth/forgot-password?email=${encodeURIComponent(e)}`)).data,s=async e=>(await n.A.post(`/auth/verify-otp?otp=${encodeURIComponent(e)}`)).data,l=async(e,t)=>(await n.A.post(`/auth/reset-password?otp=${encodeURIComponent(e)}&newPassword=${encodeURIComponent(t)}`)).data,c=async()=>(await n.A.get("/users/get")).data}}]);
//# sourceMappingURL=570.81df0f9f.chunk.js.map