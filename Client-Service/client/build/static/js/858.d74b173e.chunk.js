"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[858],{5858:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var s=t(5043),l=t(2816),r=t(2110),n=t(1045),i=t(4496),o=t(6839),d=t(5078),c=t(2299),u=t(4393),m=t(1906),h=t(4516),p=t(7566),x=t(3216),j=t(196),v=t(9302),A=t(8390),g=t(1397),f=t(3193),C=t(1292),N=t(7972),y=t(4605),b=t(4791),S=t(2954),T=t(446),w=t.n(T),E=t(579);const R=["User Information","Contact Information","Document"],D=()=>{const[e,a]=(0,s.useState)({username:"",password:"",email:"",firstName:"",lastName:"",phoneNumber:"",roleNames:["CUSTOMER"],permissionNames:["PERMISSION_WRITE"],createCustomerDto:{id:0,userId:0,firstName:"",lastName:"",phoneNumber:"",email:"",gender:"",address:"",dateOfBirth:w()(),status:"Active",accountType:""}}),[t,T]=(0,s.useState)(""),[D,_]=(0,s.useState)(""),[I,P]=(0,s.useState)(0),[W,O]=(0,s.useState)(new Set),[k,U]=((0,x.Zp)(),(0,s.useState)(!1)),[q,B]=(0,s.useState)(!1),F=e=>{const{name:t,value:s}=e.target;a((e=>({...e,[t]:s})))},L=e=>{const{name:t,value:s}=e.target;a((e=>({...e,createCustomerDto:{...e.createCustomerDto,[t]:s}})))};return(0,E.jsx)(l.A,{className:"container",children:(0,E.jsxs)(r.A,{className:"card",children:[(0,E.jsxs)("div",{className:"tag",children:[(0,E.jsx)(n.A,{className:"avatar",children:(0,E.jsx)(p.A,{})}),(0,E.jsx)(i.A,{component:"h1",variant:"h5",children:"Register"}),D&&(0,E.jsx)(i.A,{color:"error",children:D})]}),(0,E.jsxs)("form",{className:"form",onSubmit:async a=>{a.preventDefault(),console.log("handle submit called");try{const a=await(0,j.k)(e);console.log(a),U(!0),setTimeout((()=>{U(!1)}),5e3)}catch(t){_(t.message||"Registration failed. Please try again.")}},noValidate:!0,children:[(0,E.jsx)(o.A,{activeStep:I,orientation:"horizontal",children:R.map(((e,a)=>(0,E.jsx)(d.A,{children:(0,E.jsx)(c.A,{children:e})},e)))}),(0,E.jsxs)("div",{className:"step-content",children:[0===I&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",value:e.firstName,onChange:F,fullWidth:!0}),(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",value:e.lastName,onChange:F,fullWidth:!0})]}),(0,E.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:e.email,onChange:F,fullWidth:!0}),(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"phoneNumber",label:"Phone Number",name:"phoneNumber",autoComplete:"phoneNumber",value:e.phoneNumber,onChange:F,fullWidth:!0})]}),(0,E.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:e.username,onChange:F,fullWidth:!0}),(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:e.password,onChange:F,fullWidth:!0})]})]}),1===I&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{display:"flex",gap:"16px",marginTop:"10px"},children:[(0,E.jsxs)(f.A,{component:"fieldset",fullWidth:!0,children:[(0,E.jsx)(C.A,{children:"Gender"}),(0,E.jsx)(N.A,{"aria-label":"gender",name:"gender",value:e.createCustomerDto.gender,onChange:L,children:(0,E.jsxs)("div",{style:{display:"flex"},children:[(0,E.jsx)(y.A,{value:"Male",control:(0,E.jsx)(b.A,{}),label:"Male"}),(0,E.jsx)(y.A,{value:"Female",control:(0,E.jsx)(b.A,{}),label:"Female"})]})})]}),(0,E.jsxs)(f.A,{component:"fieldset",fullWidth:!0,children:[(0,E.jsx)(C.A,{children:"Account Type"}),(0,E.jsx)(N.A,{"aria-label":"accounttype",name:"accountType",value:e.createCustomerDto.accountType,onChange:L,children:(0,E.jsxs)("div",{style:{display:"flex"},children:[(0,E.jsx)(y.A,{value:"SAVING",control:(0,E.jsx)(b.A,{}),label:"SAVING"}),(0,E.jsx)(y.A,{value:"CURRENT",control:(0,E.jsx)(b.A,{}),label:"CURRENT"})]})})]})]}),(0,E.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,E.jsx)(u.A,{variant:"outlined",margin:"normal",required:!0,id:"address",label:"Address",name:"address",autoComplete:"address",value:e.createCustomerDto.address,onChange:L,fullWidth:!0}),(0,E.jsx)(A.$,{dateAdapter:v.R,children:(0,E.jsx)(g.l,{label:"Date of Birth",value:e.createCustomerDto.dateOfBirth,onChange:e=>{a((a=>({...a,createCustomerDto:{...a.createCustomerDto,dateOfBirth:null!==e&&void 0!==e?e:w()()}})))},slots:{textField:u.A},slotProps:{textField:{fullWidth:!0,variant:"outlined",margin:"normal",required:!0}}})})]})]}),2===I&&(0,E.jsx)("div",{children:(0,E.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:(0,E.jsxs)(m.A,{component:"label",role:void 0,variant:"contained",style:{marginTop:"20px",display:"flex",justifyContent:"center"},tabIndex:-1,startIcon:(0,E.jsx)(S.A,{}),children:["Upload files",(0,E.jsx)("input",{type:"file",style:{display:"none"},multiple:!0})]})})}),k&&(0,E.jsx)(r.A,{className:"notification-card",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,width:"300px",padding:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:(0,E.jsxs)(h.A,{sx:{p:2},children:[(0,E.jsx)(i.A,{variant:"h6",children:"Success"}),(0,E.jsx)(i.A,{children:"Your registration was successful!"})]})}),(0,E.jsxs)("div",{className:"navigation-buttons",children:[(0,E.jsx)(m.A,{disabled:0===I,onClick:()=>{P((e=>e-1))},style:{float:"left"},variant:"outlined",children:"Back"}),I===R.length-1?(0,E.jsx)(m.A,{type:"submit",variant:"contained",className:"next",children:"Submit"}):(0,E.jsx)(m.A,{variant:"contained",className:"next",onClick:()=>{console.log("handle next called");let e=W;var a;a=I,W.has(a)&&(e=new Set(e.values()),e.delete(I)),P((e=>e+1)),O(e)},disabled:I===R.length-1,style:{float:"right"},type:"button",children:I===R.length-2?"Submit":"Next"})]})]})]})]})})}},6291:(e,a,t)=>{t.d(a,{A:()=>l});const s=t(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://192.168.1.100:9093/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use((e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));const l=s},196:(e,a,t)=>{t.d(a,{k:()=>l,x:()=>r});var s=t(6291);const l=async e=>(await s.A.post("/users/customer",e)).data,r=async e=>{try{const a=await s.A.get(`/customer-service/${e}/get`);return console.log(a),a.data}catch(a){throw console.error("Error fetching customer data:",a),new Error("Error fetching customer data. Please try again.")}}}}]);
//# sourceMappingURL=858.d74b173e.chunk.js.map