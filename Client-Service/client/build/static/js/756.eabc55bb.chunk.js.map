{"version":3,"file":"static/js/756.eabc55bb.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Send.js","../node_modules/@mui/icons-material/esm/Cached.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","customer/transfer/TransferForm.tsx","hooks/useIdempotency.ts","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js","../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z\"\n}), 'Cached');","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box, Typography, TextField, Button, MenuItem,\r\n    CircularProgress, Alert, Card, CardContent, Divider\r\n} from '@mui/material';\r\nimport { Send, Cached, CheckCircle, Error } from '@mui/icons-material';\r\nimport api from '../../services/api';\r\nimport { useIdempotency } from '../../hooks/useIdempotency';\r\nimport { BankAccount } from '../../types/banking';\r\n\r\ntype TransferState = 'IDLE' | 'SUBMITTING' | 'PENDING' | 'COMPLETED' | 'FAILED' | 'DUPLICATE';\r\n\r\n/**\r\n * TransferForm Component\r\n * A production-grade fund transfer interface that enforces idempotency.\r\n * Integrated with Saga-orchestrated backend states.\r\n */\r\nconst TransferForm: React.FC = () => {\r\n    const { idempotencyKey, rotateKey } = useIdempotency();\r\n    const [accounts, setAccounts] = useState<BankAccount[]>([]);\r\n    const [senderId, setSenderId] = useState<string>('');\r\n    const [receiverAccount, setReceiverAccount] = useState<string>('');\r\n    const [amount, setAmount] = useState<string>('');\r\n    const [description, setDescription] = useState<string>('');\r\n\r\n    const [status, setStatus] = useState<TransferState>('IDLE');\r\n    const [message, setMessage] = useState<string | null>(null);\r\n    const [cachedResult, setCachedResult] = useState<any>(null);\r\n\r\n    useEffect(() => {\r\n        const loadAccounts = async () => {\r\n            try {\r\n                const userDetails = JSON.parse(localStorage.getItem('userDetails') || '[]');\r\n                const userId = userDetails[0]?.userId;\r\n                const response = await api.get(`/account/getall?userId=${userId}`);\r\n                const activeAccounts = (Array.isArray(response.data) ? response.data : [response.data])\r\n                    .filter((a: BankAccount) => a.status === 'ACTIVE');\r\n                setAccounts(activeAccounts);\r\n            } catch (err) {\r\n                setMessage(\"Failed to load your accounts.\");\r\n            }\r\n        };\r\n        loadAccounts();\r\n    }, []);\r\n\r\n    const handleTransfer = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (status === 'SUBMITTING' || status === 'PENDING') return;\r\n\r\n        setStatus('SUBMITTING');\r\n        setMessage(null);\r\n\r\n        try {\r\n            /**\r\n             * CRITICAL: Idempotency is handled at the network layer via interceptors.\r\n             * We pass 'idempotencyKey' in the custom request config.\r\n             */\r\n            const response = await api.post('/transaction/transfer', null, {\r\n                params: {\r\n                    receiverAmount: amount,\r\n                    receiverAccountNumber: receiverAccount\r\n                },\r\n                // Custom config handled by interceptor\r\n                idempotencyKey: idempotencyKey\r\n            } as any);\r\n\r\n            setStatus('COMPLETED');\r\n            setMessage(\"Transaction successfully initiated! Funds are being moved.\");\r\n            // Rotate key after success to allow a fresh transaction\r\n            rotateKey();\r\n        } catch (err: any) {\r\n            if (err.response?.status === 409) {\r\n                setStatus('DUPLICATE');\r\n                setMessage(\"This transaction was already processed. Here is the previous result.\");\r\n                setCachedResult(err.response.data);\r\n            } else {\r\n                setStatus('FAILED');\r\n                setMessage(err.response?.data?.message || \"Transfer failed. You can safely retry this specific transaction.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const getStatusColor = () => {\r\n        switch (status) {\r\n            case 'COMPLETED': return 'success.main';\r\n            case 'FAILED': return 'error.main';\r\n            case 'DUPLICATE': return 'warning.main';\r\n            default: return 'text.primary';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box p={3} maxWidth={600} mx=\"auto\">\r\n            <Typography variant=\"h4\" fontWeight=\"bold\" color=\"primary\" gutterBottom>\r\n                Transfer Money\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" mb={4}>\r\n                Securely send funds using banking-grade idempotency keys.\r\n            </Typography>\r\n\r\n            <Card sx={{ borderRadius: 4, boxShadow: 6 }}>\r\n                <CardContent>\r\n                    <form onSubmit={handleTransfer}>\r\n                        <TextField\r\n                            select\r\n                            fullWidth\r\n                            label=\"From Account\"\r\n                            value={senderId}\r\n                            onChange={(e) => setSenderId(e.target.value)}\r\n                            margin=\"normal\"\r\n                            required\r\n                            disabled={status === 'SUBMITTING'}\r\n                        >\r\n                            {accounts.map((acc) => (\r\n                                <MenuItem key={acc.id} value={acc.id}>\r\n                                    {acc.accountType} - XXXX-{acc.accountNumber.slice(-4)} (₹{acc.balance})\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n\r\n                        <TextField\r\n                            fullWidth\r\n                            label=\"Recipient Account Number\"\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            value={receiverAccount}\r\n                            onChange={(e) => setReceiverAccount(e.target.value)}\r\n                            required\r\n                            disabled={status === 'SUBMITTING'}\r\n                        />\r\n\r\n                        <TextField\r\n                            fullWidth\r\n                            label=\"Amount (₹)\"\r\n                            type=\"number\"\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            value={amount}\r\n                            onChange={(e) => setAmount(e.target.value)}\r\n                            required\r\n                            inputProps={{ min: \"1\", step: \"0.01\" }}\r\n                            disabled={status === 'SUBMITTING'}\r\n                        />\r\n\r\n                        <Box mt={4}>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                fullWidth\r\n                                size=\"large\"\r\n                                startIcon={status === 'SUBMITTING' ? <CircularProgress size={20} color=\"inherit\" /> : <Send />}\r\n                                disabled={status === 'SUBMITTING' || !senderId || !receiverAccount || !amount}\r\n                                sx={{ py: 1.5, borderRadius: 2 }}\r\n                            >\r\n                                {status === 'SUBMITTING' ? 'Processing...' : 'Schedule Transfer'}\r\n                            </Button>\r\n                        </Box>\r\n                    </form>\r\n\r\n                    {message && (\r\n                        <Box mt={3}>\r\n                            <Alert\r\n                                severity={status === 'COMPLETED' ? 'success' : status === 'FAILED' ? 'error' : 'warning'}\r\n                                action={\r\n                                    status === 'FAILED' && (\r\n                                        <Button color=\"inherit\" size=\"small\" onClick={handleTransfer} startIcon={<Cached />}>\r\n                                            RETRY\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                            >\r\n                                {message}\r\n                            </Alert>\r\n                        </Box>\r\n                    )}\r\n\r\n                    {status === 'DUPLICATE' && cachedResult && (\r\n                        <Box mt={2} p={2} bgcolor=\"#fffde7\" borderRadius={2} border=\"1px dashed #fbc02d\">\r\n                            <Typography variant=\"caption\" display=\"block\" color=\"warning.dark\">PREVIOUS RESULT</Typography>\r\n                            <Typography variant=\"body2\">{JSON.stringify(cachedResult)}</Typography>\r\n                        </Box>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Box mt={4} textAlign=\"center\">\r\n                <Typography variant=\"caption\" color=\"textSecondary\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\" gap={1}>\r\n                    <span>Idempotency Key:</span> <span>{idempotencyKey}</span>\r\n                </Typography>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default TransferForm;\r\n","import { useState, useCallback } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n/**\r\n * Custom hook to manage idempotency keys for sensitive banking operations.\r\n * Persists the current key in state to allow retries on the same operation\r\n * WITHOUT generating a new key, thus preventing double-spending on the backend.\r\n */\r\nexport const useIdempotency = () => {\r\n    const [currentKey, setCurrentKey] = useState<string>(uuidv4());\r\n\r\n    const rotateKey = useCallback(() => {\r\n        setCurrentKey(uuidv4());\r\n    }, []);\r\n\r\n    return { idempotencyKey: currentKey, rotateKey };\r\n};\r\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getCardContentUtilityClass } from \"./cardContentClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  padding: 16,\n  '&:last-child': {\n    paddingBottom: 24\n  }\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n    className,\n    component = 'div',\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    component\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, {\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    ...other\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport Paper from \"../Paper/index.js\";\nimport { getCardUtilityClass } from \"./cardClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  overflow: 'hidden'\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n  const {\n    className,\n    raised = false,\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    raised\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, {\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState,\n    ...other\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;"],"names":["createSvgIcon","_jsx","d","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","test","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","TransferForm","idempotencyKey","rotateKey","useIdempotency","currentKey","setCurrentKey","useState","uuidv4","useCallback","accounts","setAccounts","senderId","setSenderId","receiverAccount","setReceiverAccount","amount","setAmount","description","setDescription","status","setStatus","message","setMessage","cachedResult","setCachedResult","useEffect","async","_userDetails$","userId","JSON","parse","localStorage","getItem","response","api","get","activeAccounts","Array","isArray","data","filter","a","err","loadAccounts","handleTransfer","e","preventDefault","post","params","receiverAmount","receiverAccountNumber","_err$response","_err$response2","_err$response2$data","_jsxs","Box","p","maxWidth","mx","children","Typography","variant","fontWeight","color","gutterBottom","mb","Card","sx","borderRadius","boxShadow","CardContent","onSubmit","TextField","select","fullWidth","label","value","onChange","target","margin","required","disabled","map","acc","MenuItem","id","accountType","accountNumber","slice","balance","type","inputProps","min","step","mt","Button","size","startIcon","CircularProgress","Send","py","Alert","severity","action","onClick","Cached","bgcolor","border","display","textAlign","alignItems","justifyContent","gap","getCardContentUtilityClass","slot","generateUtilityClass","generateUtilityClasses","CardContentRoot","styled","name","overridesResolver","props","styles","root","padding","paddingBottom","React","inProps","ref","useDefaultProps","className","component","other","ownerState","classes","composeClasses","useUtilityClasses","as","clsx","getCardUtilityClass","CardRoot","Paper","overflow","raised","elevation"],"sourceRoot":""}