{"version":3,"file":"static/js/969.9a3915f2.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Terminal.js","../node_modules/@mui/icons-material/esm/FilterList.js","admin/audit/AuditCenter.tsx","services/api.ts","../node_modules/@mui/icons-material/esm/InfoOutlined.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 4H4c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H4V8h16zm-2-1h-6v-2h6zM7.5 17l-1.41-1.41L8.67 13l-2.59-2.59L7.5 9l4 4z\"\n}), 'Terminal');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z\"\n}), 'FilterList');","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Box, Typography, Table, TableBody, TableCell,\r\n    TableContainer, TableHead, TableRow, Paper,\r\n    Chip, TextField, Grid, Button, CircularProgress,\r\n    Alert, Tooltip, IconButton\r\n} from '@mui/material';\r\nimport {\r\n    FilterList, History, InfoOutlined,\r\n    Search, Terminal, AssignmentTurnedIn\r\n} from '@mui/icons-material';\r\nimport api from '../../services/api';\r\nimport { AuditLog } from '../../types/banking';\r\n\r\n/**\r\n * AuditCenter Component\r\n * Forensic log viewer for security administrators.\r\n * Provides immutable visibility into all system-wide activities.\r\n */\r\nconst AuditCenter: React.FC = () => {\r\n    const [logs, setLogs] = useState<AuditLog[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Filter states\r\n    const [userId, setUserId] = useState('');\r\n    const [action, setAction] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchLogs = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const response = await api.get('/audit/all');\r\n                setLogs(response.data);\r\n            } catch (err: any) {\r\n                setError(\"Audit logs could not be retrieved. Ensure Audit-Service is reachable.\");\r\n                // Mock data for UI demonstration\r\n                setLogs([\r\n                    { id: 1, timestamp: new Date().toISOString(), userId: \"admin\", action: \"LOGIN\", status: \"SUCCESS\", correlationId: \"tx-9988-aa\" },\r\n                    { id: 2, timestamp: new Date().toISOString(), userId: \"uday\", action: \"TRANSFER\", status: \"COMPLETED\", correlationId: \"tx-1122-bb\", details: \"Transfer to 123456\" },\r\n                    { id: 3, timestamp: new Date().toISOString(), userId: \"sys\", action: \"BLOCK\", status: \"TRIGGERED\", correlationId: \"tx-4433-cc\", details: \"Account 9988 blocked due to risk\" },\r\n                ]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchLogs();\r\n    }, []);\r\n\r\n    const getActionColor = (act: string) => {\r\n        switch (act) {\r\n            case 'TRANSFER': return 'primary';\r\n            case 'BLOCK': return 'error';\r\n            case 'LOGIN': return 'success';\r\n            default: return 'default';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box p={3}>\r\n            <Box display=\"flex\" alignItems=\"center\" gap={2} mb={4}>\r\n                <Terminal color=\"action\" sx={{ fontSize: 40 }} />\r\n                <Box>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\">Audit Center</Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Immutable forensic logs for compliance and security oversight</Typography>\r\n                </Box>\r\n            </Box>\r\n\r\n            {/* Filters */}\r\n            <Paper sx={{ p: 2, mb: 4, borderRadius: 3 }}>\r\n                <Grid container spacing={2} alignItems=\"center\">\r\n                    <Grid item xs={12} md={4}>\r\n                        <TextField\r\n                            fullWidth size=\"small\" label=\"Search User ID\"\r\n                            value={userId} onChange={(e) => setUserId(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <TextField\r\n                            fullWidth size=\"small\" label=\"Action Type (e.g. TRANSFER)\"\r\n                            value={action} onChange={(e) => setAction(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <Button variant=\"outlined\" startIcon={<FilterList />} fullWidth>Apply Filters</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>\r\n\r\n            {error && <Alert severity=\"info\" sx={{ mb: 3 }}>{error}</Alert>}\r\n\r\n            <TableContainer component={Paper} sx={{ borderRadius: 3, boxShadow: 3 }}>\r\n                <Table size=\"small\">\r\n                    <TableHead sx={{ bgcolor: '#263238' }}>\r\n                        <TableRow>\r\n                            <TableCell sx={{ color: 'white' }}><strong>Timestamp</strong></TableCell>\r\n                            <TableCell sx={{ color: 'white' }}><strong>User</strong></TableCell>\r\n                            <TableCell sx={{ color: 'white' }}><strong>Action</strong></TableCell>\r\n                            <TableCell sx={{ color: 'white' }}><strong>Status</strong></TableCell>\r\n                            <TableCell sx={{ color: 'white' }}><strong>Correlation ID</strong></TableCell>\r\n                            <TableCell sx={{ color: 'white' }} align=\"center\"><strong>Details</strong></TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {logs.map((log) => (\r\n                            <TableRow key={log.id} hover>\r\n                                <TableCell>{new Date(log.timestamp).toLocaleString()}</TableCell>\r\n                                <TableCell><Typography variant=\"body2\" fontWeight=\"bold\">{log.userId}</Typography></TableCell>\r\n                                <TableCell>\r\n                                    <Chip label={log.action} size=\"small\" color={getActionColor(log.action) as any} />\r\n                                </TableCell>\r\n                                <TableCell>{log.status}</TableCell>\r\n                                <TableCell><Typography variant=\"caption\" fontFamily=\"monospace\">{log.correlationId}</Typography></TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Tooltip title={log.details || \"No extra data\"}>\r\n                                        <IconButton size=\"small\"><InfoOutlined fontSize=\"small\" /></IconButton>\r\n                                    </Tooltip>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default AuditCenter;\r\n","import axios, { AxiosInstance, AxiosResponse, AxiosError } from 'axios';\n\n// Create an Axios instance\nconst api: AxiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api',// Base URL for your API Gateway\n\n  // baseURL: 'http://192.168.1.100:9093/api',\n\n  // baseURL: process.env.REACT_APP_API_BASE_URL,\n\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to add token and optional idempotency key\napi.interceptors.request.use(\n  (config: any) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    // Add Idempotency-Key if provided in request config\n    if (config.idempotencyKey) {\n      config.headers['Idempotency-Key'] = config.idempotencyKey;\n    }\n\n    return config;\n  },\n  (error: AxiosError) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle responses\napi.interceptors.response.use(\n  (response: AxiosResponse): AxiosResponse => {\n    return response;\n  },\n  (error: AxiosError) => {\n    if (error.response && error.response.status === 401) {\n      // Handle unauthorized responses (e.g., token expired)\n      // Redirect to login page or show an alert\n    }\n    return Promise.reject(error);\n  }\n);\n\n\nexport interface ApiResponse<T> {\n  success: boolean;\n  data: T;\n  message: string | null;\n}\n\nexport default api;\n\n\n\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');"],"names":["createSvgIcon","_jsx","d","AuditCenter","logs","setLogs","useState","loading","setLoading","error","setError","userId","setUserId","action","setAction","useEffect","async","response","api","get","data","err","id","timestamp","Date","toISOString","status","correlationId","details","fetchLogs","getActionColor","act","_jsxs","Box","p","children","display","alignItems","gap","mb","Terminal","color","sx","fontSize","Typography","variant","fontWeight","Paper","borderRadius","Grid","container","spacing","item","xs","md","TextField","fullWidth","size","label","value","onChange","e","target","Button","startIcon","FilterList","Alert","severity","TableContainer","component","boxShadow","Table","TableHead","bgcolor","TableRow","TableCell","align","TableBody","map","log","hover","toLocaleString","Chip","fontFamily","Tooltip","title","IconButton","InfoOutlined","axios","create","baseURL","process","REACT_APP_API_BASE_URL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","idempotencyKey","Promise","reject"],"sourceRoot":""}