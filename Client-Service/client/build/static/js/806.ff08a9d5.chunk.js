"use strict";(self.webpackChunkclient_service=self.webpackChunkclient_service||[]).push([[806],{806:(t,e,r)=>{r.r(e),r.d(e,{default:()=>v});var s=r(5043),o=r(4516),a=r(1637),n=r(4496),c=r(4194),i=r(8903),l=r(2110),d=r(6494),u=r(3845),A=r(6734),h=r(579);const x=(0,A.A)((0,h.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var m=r(8606),f=r(1007),p=r(7800);const v=()=>{const[t,e]=(0,s.useState)([]),[r,A]=(0,s.useState)(!0),[v,y]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{var t;const r=null===(t=JSON.parse(localStorage.getItem("userDetails")||"[]")[0])||void 0===t?void 0:t.userId;if(!r)throw new Error("Session expired. Please log in.");const s=await p.A.get(`/account/getall?userId=${r}`);e(Array.isArray(s.data)?s.data:[s.data])}catch(r){y(r.message||"Failed to load accounts.")}finally{A(!1)}})()}),[]);return r?(0,h.jsx)(o.A,{display:"flex",justifyContent:"center",mt:4,children:(0,h.jsx)(a.A,{})}):(0,h.jsxs)(o.A,{p:3,children:[(0,h.jsx)(n.A,{variant:"h4",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"My Accounts"}),(0,h.jsx)(n.A,{variant:"body1",color:"textSecondary",mb:4,children:"View and manage your personal and business banking accounts."}),v&&(0,h.jsx)(c.A,{severity:"error",sx:{mb:3},children:v}),(0,h.jsx)(i.Ay,{container:!0,spacing:3,children:t.map((t=>{return(0,h.jsx)(i.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(l.A,{sx:{borderRadius:4,boxShadow:3,opacity:"BLOCKED"===t.status?.7:1,borderLeft:"6px solid "+("ACTIVE"===t.status?"#4caf50":"#f44336")},children:(0,h.jsxs)(d.A,{children:[(0,h.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[(0,h.jsx)(x,{color:"primary",sx:{fontSize:40}}),(0,h.jsx)(u.A,{label:t.status,color:"ACTIVE"===t.status?"success":"error",size:"small",icon:"ACTIVE"===t.status?(0,h.jsx)(m.A,{}):(0,h.jsx)(f.A,{})})]}),(0,h.jsxs)(n.A,{variant:"h6",color:"textSecondary",children:[t.accountType," Account"]}),(0,h.jsxs)(n.A,{variant:"h5",fontWeight:"bold",mt:1,children:["\u20b9",t.balance.toLocaleString("en-IN",{minimumFractionDigits:2})]}),(0,h.jsxs)(o.A,{mt:3,p:1.5,bgcolor:"#f8f9fa",borderRadius:2,display:"flex",justifyContent:"space-between",children:[(0,h.jsx)(n.A,{variant:"caption",color:"textSecondary",children:"ACCOUNT NUMBER"}),(0,h.jsx)(n.A,{variant:"body2",fontWeight:"medium",children:(e=t.accountNumber,e?`XXXX-XXXX-${e.slice(-4)}`:"XXXX-XXXX")})]}),"BLOCKED"===t.status&&(0,h.jsx)(n.A,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"This account is currently blocked. Please contact support."})]})})},t.id);var e}))}),0===t.length&&!v&&(0,h.jsx)(c.A,{severity:"info",children:"No accounts found. If you just registered, your account creation might be in progress."})]})}},8606:(t,e,r)=>{r.d(e,{A:()=>a});var s=r(6734),o=r(579);const a=(0,s.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},1007:(t,e,r)=>{r.d(e,{A:()=>a});var s=r(6734),o=r(579);const a=(0,s.A)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock")},6494:(t,e,r)=>{r.d(e,{A:()=>h});var s=r(5043),o=r(8387),a=r(8610),n=r(4535),c=r(8206),i=r(2532),l=r(2372);function d(t){return(0,l.Ay)("MuiCardContent",t)}(0,i.A)("MuiCardContent",["root"]);var u=r(579);const A=(0,n.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),h=s.forwardRef((function(t,e){const r=(0,c.b)({props:t,name:"MuiCardContent"}),{className:s,component:n="div",...i}=r,l={...r,component:n},h=(t=>{const{classes:e}=t;return(0,a.A)({root:["root"]},d,e)})(l);return(0,u.jsx)(A,{as:n,className:(0,o.A)(h.root,s),ownerState:l,ref:e,...i})}))},2110:(t,e,r)=>{r.d(e,{A:()=>x});var s=r(5043),o=r(8387),a=r(8610),n=r(4535),c=r(8206),i=r(1596),l=r(2532),d=r(2372);function u(t){return(0,d.Ay)("MuiCard",t)}(0,l.A)("MuiCard",["root"]);var A=r(579);const h=(0,n.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),x=s.forwardRef((function(t,e){const r=(0,c.b)({props:t,name:"MuiCard"}),{className:s,raised:n=!1,...i}=r,l={...r,raised:n},d=(t=>{const{classes:e}=t;return(0,a.A)({root:["root"]},u,e)})(l);return(0,A.jsx)(h,{className:(0,o.A)(d.root,s),elevation:n?8:void 0,ref:e,ownerState:l,...i})}))}}]);
//# sourceMappingURL=806.ff08a9d5.chunk.js.map