{"version":3,"file":"static/js/858.fac3d12f.chunk.js","mappings":"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","sources":["components/Customer/CustomerRegistration/CustomerRegisterForm.tsx","services/api.ts","services/customerService.ts"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Avatar, Box, Button, Card, Container, Step, StepLabel, Stepper, TextField, Typography, Modal, Fade, Backdrop } from \"@mui/material\";\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport { useNavigate } from \"react-router-dom\";\nimport { register, uploadDocument } from \"../../../services/customerService\";\nimport { CustomerRegisterForm } from \"../../../Types\";\nimport \"./CustomerRegisterForm.css\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\nimport { RadioGroup, FormControlLabel, Radio, FormControl, FormLabel } from \"@mui/material\";\nimport dayjs, { Dayjs } from \"dayjs\";\n\nconst steps = [\"User Details\", \"Personal Info\", \"Documents\"];\n\nconst CustomerRegister: React.FC = () => {\n  const [registerForm, setRegisterForm] = useState<CustomerRegisterForm>({\n    username: \"\",\n    password: \"\",\n    email: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    roleNames: [\"CUSTOMER\"],\n    permissionNames: [\"PERMISSION_WRITE\"],\n    createCustomerDto: {\n      id: 0,\n      userId: 0,\n      firstName: \"\",\n      lastName: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n      gender: \"Male\",\n      address: \"\",\n      dateOfBirth: dayjs(),\n      status: \"Active\",\n      accountType: \"SAVING\",\n    },\n  });\n\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [error, setError] = useState<string>(\"\");\n  const [activeStep, setActiveStep] = useState(0);\n  const [showModal, setShowModal] = useState<boolean>(false);\n  const navigate = useNavigate();\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setRegisterForm((prevForm) => ({ ...prevForm, [name]: value }));\n  };\n\n  const handleDtoChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setRegisterForm((prevForm) => ({\n      ...prevForm,\n      createCustomerDto: {\n        ...prevForm.createCustomerDto,\n        [name]: value,\n      },\n    }));\n  };\n\n  const handleDateChange = (date: Dayjs | null) => {\n    setRegisterForm(prevForm => ({\n      ...prevForm,\n      createCustomerDto: {\n        ...prevForm.createCustomerDto,\n        dateOfBirth: date ?? dayjs()\n      }\n    }));\n  };\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files.length > 0) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    setError(\"\");\n\n    try {\n      // Step 1: Register Customer\n      const response: any = await register(registerForm);\n      console.log(\"Registration Response:\", response);\n\n      // Step 2: Extract User ID from response\n      // Assuming the response matches UserDetailDto structure or similar returning the created user/customer\n      // Based on controller, it returns UserDetailDto. We need the userId.\n      const userId = response.userId;\n\n      if (!userId) {\n        throw new Error(\"Registration successful but User ID not returned. Cannot upload document.\");\n      }\n\n      // Step 3: Upload Document if selected\n      if (selectedFile) {\n        await uploadDocument(userId, selectedFile);\n        console.log(\"Document uploaded successfully\");\n      }\n\n      setShowModal(true);\n      setTimeout(() => {\n        setShowModal(false);\n        navigate(\"/login\");\n      }, 3000);\n\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || \"Registration failed. Please try again.\");\n    }\n  };\n\n  return (\n    <Container className=\"container\">\n      <Card className=\"card\">\n        <div className=\"tag\">\n          <Avatar className=\"avatar\">\n            <PersonAddIcon fontSize=\"large\" />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\" fontWeight=\"bold\">\n            Customer Registration\n          </Typography>\n          <Typography variant=\"body2\" sx={{ opacity: 0.8, mt: 1 }}>\n            Join our premium banking experience\n          </Typography>\n        </div>\n\n        <div className=\"form\">\n          {error && (\n            <Box mb={2} p={2} bgcolor=\"#ffebee\" borderRadius={2}>\n              <Typography color=\"error\" align=\"center\">{error}</Typography>\n            </Box>\n          )}\n\n          <Stepper activeStep={activeStep} alternativeLabel>\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n\n          <form onSubmit={handleSubmit} noValidate>\n            <div className=\"step-content\">\n              {activeStep === 0 && (\n                <Box>\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\n                    Account Credentials\n                  </Typography>\n                  <Box display=\"flex\" gap={2} mb={2}>\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Username\"\n                      name=\"username\"\n                      value={registerForm.username}\n                      onChange={handleInputChange}\n                    />\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      type=\"password\"\n                      label=\"Password\"\n                      name=\"password\"\n                      value={registerForm.password}\n                      onChange={handleInputChange}\n                    />\n                  </Box>\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\" mt={3}>\n                    Contact Information\n                  </Typography>\n                  <Box display=\"flex\" gap={2}>\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Email Address\"\n                      name=\"email\"\n                      value={registerForm.email}\n                      onChange={handleInputChange}\n                    />\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Phone Number\"\n                      name=\"phoneNumber\"\n                      value={registerForm.phoneNumber}\n                      onChange={handleInputChange}\n                    />\n                  </Box>\n                </Box>\n              )}\n\n              {activeStep === 1 && (\n                <Box>\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\n                    Personal Details\n                  </Typography>\n                  <Box display=\"flex\" gap={2} mb={2}>\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"First Name\"\n                      name=\"firstName\"\n                      value={registerForm.firstName}\n                      onChange={handleInputChange}\n                    />\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Last Name\"\n                      name=\"lastName\"\n                      value={registerForm.lastName}\n                      onChange={handleInputChange}\n                    />\n                  </Box>\n\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    label=\"Address\"\n                    name=\"address\"\n                    value={registerForm.createCustomerDto.address}\n                    onChange={handleDtoChange}\n                    sx={{ mb: 2 }}\n                  />\n\n                  <Box display=\"flex\" gap={4} alignItems=\"center\" mb={2}>\n                    <LocalizationProvider dateAdapter={AdapterDayjs}>\n                      <DatePicker\n                        label=\"Date of Birth\"\n                        value={registerForm.createCustomerDto.dateOfBirth}\n                        onChange={handleDateChange}\n                        slotProps={{ textField: { fullWidth: true } }}\n                      />\n                    </LocalizationProvider>\n\n                    <FormControl component=\"fieldset\">\n                      <FormLabel component=\"legend\">Gender</FormLabel>\n                      <RadioGroup row name=\"gender\" value={registerForm.createCustomerDto.gender} onChange={handleDtoChange}>\n                        <FormControlLabel value=\"Male\" control={<Radio />} label=\"Male\" />\n                        <FormControlLabel value=\"Female\" control={<Radio />} label=\"Female\" />\n                      </RadioGroup>\n                    </FormControl>\n                  </Box>\n\n                  <FormControl component=\"fieldset\" fullWidth sx={{ mt: 1 }}>\n                    <FormLabel component=\"legend\">Account Type</FormLabel>\n                    <RadioGroup row name=\"accountType\" value={registerForm.createCustomerDto.accountType} onChange={handleDtoChange}>\n                      <FormControlLabel value=\"SAVING\" control={<Radio />} label=\"Savings Account\" />\n                      <FormControlLabel value=\"CURRENT\" control={<Radio />} label=\"Current Account\" />\n                    </RadioGroup>\n                  </FormControl>\n                </Box>\n              )}\n\n              {activeStep === 2 && (\n                <Box textAlign=\"center\">\n                  <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\n                    KYC Verification\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\" mb={3}>\n                    Please upload a valid proof of address (ID Card, Utility Bill, etc.)\n                  </Typography>\n\n                  <div className=\"file-upload-area\" onClick={() => document.getElementById('file-upload')?.click()}>\n                    <CloudUploadIcon style={{ fontSize: 60, color: '#bdbdbd' }} />\n                    <Typography variant=\"body1\" mt={2} color=\"textSecondary\">\n                      Click to select a file\n                    </Typography>\n                    <input\n                      type=\"file\"\n                      id=\"file-upload\"\n                      style={{ display: \"none\" }}\n                      onChange={handleFileChange}\n                    />\n                  </div>\n\n                  {selectedFile && (\n                    <div className=\"selected-file\">\n                      <InsertDriveFileIcon /> {selectedFile.name}\n                    </div>\n                  )}\n                </Box>\n              )}\n            </div>\n\n            <div className=\"navigation-buttons\">\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                variant=\"outlined\"\n                size=\"large\"\n              >\n                Back\n              </Button>\n\n              {activeStep === steps.length - 1 ? (\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  size=\"large\"\n                  disabled={!selectedFile} // Optional: force upload\n                >\n                  Create Account\n                </Button>\n              ) : (\n                <Button\n                  variant=\"contained\"\n                  onClick={handleNext}\n                  size=\"large\"\n                >\n                  Next Step\n                </Button>\n              )}\n            </div>\n          </form>\n        </div>\n      </Card>\n\n      {/* Success Modal */}\n      <Modal\n        open={showModal}\n        onClose={() => { }}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{ timeout: 500 }}\n      >\n        <Fade in={showModal}>\n          <Box className=\"success-modal\">\n            <CheckCircleOutlineIcon style={{ fontSize: 80, color: '#4caf50', marginBottom: 16 }} />\n            <Typography variant=\"h5\" fontWeight=\"bold\" gutterBottom>\n              Registration Successful!\n            </Typography>\n            <Typography color=\"textSecondary\">\n              Your account has been created and your documents uploaded.\n            </Typography>\n            <Typography variant=\"caption\" display=\"block\" sx={{ mt: 2 }}>\n              Redirecting to login...\n            </Typography>\n          </Box>\n        </Fade>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default CustomerRegister;\n","import axios, { AxiosInstance, AxiosResponse, AxiosError } from 'axios';\n\n// Create an Axios instance\nconst api: AxiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api',// Base URL for your API Gateway\n\n  // baseURL: 'http://192.168.1.100:9093/api',\n\n  // baseURL: process.env.REACT_APP_API_BASE_URL,\n\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to add token and optional idempotency key\napi.interceptors.request.use(\n  (config: any) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    // Add Idempotency-Key if provided in request config\n    if (config.idempotencyKey) {\n      config.headers['Idempotency-Key'] = config.idempotencyKey;\n    }\n\n    return config;\n  },\n  (error: AxiosError) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle responses\napi.interceptors.response.use(\n  (response: AxiosResponse): AxiosResponse => {\n    return response;\n  },\n  (error: AxiosError) => {\n    if (error.response && error.response.status === 401) {\n      // Handle unauthorized responses (e.g., token expired)\n      // Redirect to login page or show an alert\n    }\n    return Promise.reject(error);\n  }\n);\n\n\nexport interface ApiResponse<T> {\n  success: boolean;\n  data: T;\n  message: string | null;\n}\n\nexport default api;\n\n\n\n","import { CustomerRegisterForm, GetCustomer } from \"../Types\";\nimport api from \"./api\";\n\n// API call for customer registration\nexport const register = async (registerForm: CustomerRegisterForm): Promise<CustomerRegisterForm> => {\n  const response = await api.post<CustomerRegisterForm>('users/customer', registerForm);\n  return response.data;\n};\n\n// API call for uploading document\nexport const uploadDocument = async (userId: number, file: File): Promise<string> => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await api.post<string>(`customer/${userId}/upload`, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n  });\n  return response.data;\n};\n\n\n// API call for fetching customer details by userId\nexport const getCustomer = async (userId: number): Promise<GetCustomer | null> => {\n  try {\n    const response = await api.get<GetCustomer>(`customer/${userId}`);\n    console.log(response);  // Can be removed in production\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching customer data:\", error);\n    throw new Error(\"Error fetching customer data. Please try again.\");\n  }\n};"],"names":["steps","CustomerRegister","registerForm","setRegisterForm","useState","username","password","email","firstName","lastName","phoneNumber","roleNames","permissionNames","createCustomerDto","id","userId","gender","address","dateOfBirth","dayjs","status","accountType","selectedFile","setSelectedFile","error","setError","activeStep","setActiveStep","showModal","setShowModal","navigate","useNavigate","handleInputChange","event","name","value","target","prevForm","handleDtoChange","_jsxs","Container","className","children","Card","_jsx","Avatar","PersonAddIcon","fontSize","Typography","component","variant","fontWeight","sx","opacity","mt","Box","mb","p","bgcolor","borderRadius","color","align","Stepper","alternativeLabel","map","label","Step","StepLabel","onSubmit","async","preventDefault","response","register","console","log","Error","uploadDocument","setTimeout","err","message","noValidate","gutterBottom","display","gap","TextField","required","fullWidth","onChange","type","alignItems","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","date","slotProps","textField","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","textAlign","onClick","_document$getElementB","document","getElementById","click","CloudUploadIcon","style","files","length","InsertDriveFileIcon","Button","disabled","handleBack","prevActiveStep","size","handleNext","Modal","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","CheckCircleOutlineIcon","marginBottom","api","axios","create","baseURL","process","REACT_APP_API_BASE_URL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","idempotencyKey","Promise","reject","post","data","file","formData","FormData","append","getCustomer","get"],"sourceRoot":""}